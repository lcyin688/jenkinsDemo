
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/scripts/Tips/TipsManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6c9bezFtu5AHZUcydh+6QJj', 'TipsManager');
// scripts/Tips/TipsManager.js

"use strict";

//
// Restricted the scenes platform permissions
//
// init platform info
var isAndroid = cc.sys.platform === cc.sys.ANDROID;
var isNative = cc.sys.isNative;
var isNativeWindows = isNative && cc.sys.os === cc.sys.OS_WINDOWS;
var isNativeMacOS = isNative && cc.sys.os === cc.sys.OS_OSX;
var isBrowser = cc.sys.isBrowser;
var isMobile = cc.sys.isMobile;
var isIphone = cc.sys.platform === cc.sys.IPHONE;
var isDesktopBrowser = cc.sys.platform === cc.sys.DESKTOP_BROWSER;
var isWechat = cc.sys.platform === cc.sys.WECHAT_GAME;
var isQQPlay = cc.sys.platform === cc.sys.QQ_PLAY;
var isBaidu = cc.sys.platform === cc.sys.BAIDU_GAME;
var isVivo = cc.sys.platform === cc.sys.VIVO_GAME;
var isOPPO = cc.sys.platform === cc.sys.OPPO_GAME;
var isXiaomi = cc.sys.platform === cc.sys.XIAOMI_GAME;
var isHuawei = cc.sys.platform === cc.sys.HUAWEI_GAME;
var isJkw = cc.sys.platform === cc.sys.JKW_GAME;
var isAlipay = cc.sys.platform === cc.sys.ALIPAY_GAME;
module.exports = {
  tispPrefab: null,
  SupportConfig: function SupportConfig(name) {
    console.log(name);

    switch (name) {
      case 'downloader-web':
        return !isNative;

      case 'EditBoxTabIndex':
        return !isNative && !isAlipay;

      case 'EditBox':
      case 'EditBoxEvent':
        return !isAlipay;

      case 'OnMultiTouchInput':
        return isMobile;

      case 'webp-test':
        return cc.sys.capabilities['webp'];

      case 'DeviceMotion':
        return isMobile && !isQQPlay && !isVivo;

      case 'Native_Call':
        return isMobile && (isAndroid || isIphone) && !CC_RUNTIME;

      case 'TTFFontLabel':
        return !isQQPlay;

      case 'MousePropagation':
        return isNative && !isMobile && !isWechat && !isQQPlay && !isXiaomi && !isHuawei && !isAlipay || isDesktopBrowser;

      case 'downloader-native':
        return isNative && !CC_RUNTIME;
      // Not support the VIVO_GAME and OPPO_GAME

      case 'capture_to_native':
        return isNative && !isVivo && !isOPPO;

      case 'SafeArea':
        return (isIphone || isAndroid) && isNative;

      case 'capture_to_wechat':
        return isWechat;

      case 'capture_to_web':
      case 'ShadowLabel':
      case 'videoPlayer-stayOnBottom':
        return isBrowser;
      // Only support the RENDER_TYPE_WEBGL

      case 'MotionStreak':
      case 'Mask_IMAGE_STENCIL':
      case 'Mask_NESTED':
        return cc.game.renderType === cc.game.RENDER_TYPE_WEBGL;
      // Not support isMobile

      case 'KeyboardInput':
      case 'platform':
        return !isMobile && !isBaidu && !isXiaomi && !isHuawei && !isAlipay;
      // Not support the Simulator, QQ_PLAY, WECHAT_GAME

      case 'videoPlayer':
        return !isNativeWindows && !isNativeMacOS && !CC_RUNTIME && !isQQPlay && !isBaidu && !isXiaomi && !isHuawei && !isAlipay;
      // Not support the VIVO_GAME, OPPO_GAME, WECHAT_GAME, QQ_PLAY, CC_RUNTIME

      case 'webview':
        return (isMobile || isBrowser) && !CC_RUNTIME && !isQQPlay && !isWechat && !isBaidu && !isXiaomi && !isHuawei && !isAlipay;

      case 'mesh':
        return !isVivo && !isOPPO;
    }
  },
  init: function init() {
    var _this = this;

    if (this.tipsPrefab) return;
    cc.resources.load('tips/Tips', function (err, prefab) {
      _this.tipsPrefab = prefab;
    });
  },
  createTips: function createTips(content) {
    var node = cc.instantiate(this.tipsPrefab);
    var tipsCtrl = node.getComponent('TipsCtrl');

    if (content) {
      tipsCtrl.setContent(content);
    }

    node.parent = cc.director.getScene();
  },
  hasSupport: function hasSupport(name, hideTip) {
    var support = this.SupportConfig(name);

    if (!support && support !== undefined) {
      if (!hideTip) {
        this.createTips();
      }

      return false;
    }

    return true;
  }
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0cy9zY3JpcHRzL1RpcHMvVGlwc01hbmFnZXIuanMiXSwibmFtZXMiOlsiaXNBbmRyb2lkIiwiY2MiLCJzeXMiLCJwbGF0Zm9ybSIsIkFORFJPSUQiLCJpc05hdGl2ZSIsImlzTmF0aXZlV2luZG93cyIsIm9zIiwiT1NfV0lORE9XUyIsImlzTmF0aXZlTWFjT1MiLCJPU19PU1giLCJpc0Jyb3dzZXIiLCJpc01vYmlsZSIsImlzSXBob25lIiwiSVBIT05FIiwiaXNEZXNrdG9wQnJvd3NlciIsIkRFU0tUT1BfQlJPV1NFUiIsImlzV2VjaGF0IiwiV0VDSEFUX0dBTUUiLCJpc1FRUGxheSIsIlFRX1BMQVkiLCJpc0JhaWR1IiwiQkFJRFVfR0FNRSIsImlzVml2byIsIlZJVk9fR0FNRSIsImlzT1BQTyIsIk9QUE9fR0FNRSIsImlzWGlhb21pIiwiWElBT01JX0dBTUUiLCJpc0h1YXdlaSIsIkhVQVdFSV9HQU1FIiwiaXNKa3ciLCJKS1dfR0FNRSIsImlzQWxpcGF5IiwiQUxJUEFZX0dBTUUiLCJtb2R1bGUiLCJleHBvcnRzIiwidGlzcFByZWZhYiIsIlN1cHBvcnRDb25maWciLCJuYW1lIiwiY29uc29sZSIsImxvZyIsImNhcGFiaWxpdGllcyIsIkNDX1JVTlRJTUUiLCJnYW1lIiwicmVuZGVyVHlwZSIsIlJFTkRFUl9UWVBFX1dFQkdMIiwiaW5pdCIsInRpcHNQcmVmYWIiLCJyZXNvdXJjZXMiLCJsb2FkIiwiZXJyIiwicHJlZmFiIiwiY3JlYXRlVGlwcyIsImNvbnRlbnQiLCJub2RlIiwiaW5zdGFudGlhdGUiLCJ0aXBzQ3RybCIsImdldENvbXBvbmVudCIsInNldENvbnRlbnQiLCJwYXJlbnQiLCJkaXJlY3RvciIsImdldFNjZW5lIiwiaGFzU3VwcG9ydCIsImhpZGVUaXAiLCJzdXBwb3J0IiwidW5kZWZpbmVkIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EsSUFBTUEsU0FBUyxHQUFHQyxFQUFF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M0IsYUFBTCxDQUFtQkMsSUFBbkIsQ0FBZDs7SUFDQSxJQUFJLENBQUMwQixPQUFELElBQVlBLE9BQU8sS0FBS0MsU0FBNUIsRUFBdUM7TUFDbkMsSUFBSSxDQUFDRixPQUFMLEVBQWM7UUFDVixLQUFLWCxVQUFMO01BQ0g7O01BQ0QsT0FBTyxLQUFQO0lBQ0g7O0lBQ0QsT0FBTyxJQUFQO0VBQ0g7QUEvRVksQ0FBakIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vXG4vLyBSZXN0cmljdGVkIHRoZSBzY2VuZXMgcGxhdGZvcm0gcGVybWlzc2lvbnNcbi8vXG5cbi8vIGluaXQgcGxhdGZvcm0gaW5mb1xuY29uc3QgaXNBbmRyb2lkID0gY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQU5EUk9JRDtcbmNvbnN0IGlzTmF0aXZlID0gY2Muc3lzLmlzTmF0aXZlO1xuY29uc3QgaXNOYXRpdmVXaW5kb3dzID0gaXNOYXRpdmUgJiYgY2Muc3lzLm9zID09PSBjYy5zeXMuT1NfV0lORE9XUztcbmNvbnN0IGlzTmF0aXZlTWFjT1MgPSBpc05hdGl2ZSAmJiBjYy5zeXMub3MgPT09IGNjLnN5cy5PU19PU1g7XG5jb25zdCBpc0Jyb3dzZXIgPSBjYy5zeXMuaXNCcm93c2VyO1xuY29uc3QgaXNNb2JpbGUgPSBjYy5zeXMuaXNNb2JpbGU7XG5jb25zdCBpc0lwaG9uZSA9IGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLklQSE9ORTtcbmNvbnN0IGlzRGVza3RvcEJyb3dzZXIgPSBjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5ERVNLVE9QX0JST1dTRVI7XG5cbmNvbnN0IGlzV2VjaGF0ID0gY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuV0VDSEFUX0dBTUU7XG5jb25zdCBpc1FRUGxheSA9IGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLlFRX1BMQVk7XG5jb25zdCBpc0JhaWR1ID0gY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQkFJRFVfR0FNRTtcbmNvbnN0IGlzVml2byA9IGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLlZJVk9fR0FNRTtcbmNvbnN0IGlzT1BQTyA9IGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLk9QUE9fR0FNRTtcbmNvbnN0IGlzWGlhb21pID0gY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuWElBT01JX0dBTUU7XG5jb25zdCBpc0h1YXdlaSA9IGNjLnN5cy5wbGF0Zm9ybSA9PT0gY2Muc3lzLkhVQVdFSV9HQU1FO1xuY29uc3QgaXNKa3cgPSBjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5KS1dfR0FNRTtcbmNvbnN0IGlzQWxpcGF5ID0gY2Muc3lzLnBsYXRmb3JtID09PSBjYy5zeXMuQUxJUEFZX0dBTUU7XG4gXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICB0aXNwUHJlZmFiOiBudWxsLFxuXG4gICAgU3VwcG9ydENvbmZpZzogZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgY29uc29sZS5sb2cobmFtZSk7XG4gICAgICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgICAgICAgY2FzZSAnZG93bmxvYWRlci13ZWInOiAgICAgIHJldHVybiAhaXNOYXRpdmU7XG4gICAgICAgICAgICBjYXNlICdFZGl0Qm94VGFiSW5kZXgnOiAgICAgcmV0dXJuICFpc05hdGl2ZSAmJiAhaXNBbGlwYXk7XG4gICAgICAgICAgICBjYXNlICdFZGl0Qm94JzpcbiAgICAgICAgICAgIGNhc2UgJ0VkaXRCb3hFdmVudCc6ICAgICAgICByZXR1cm4gIWlzQWxpcGF5O1xuICAgICAgICAgICAgY2FzZSAnT25NdWx0aVRvdWNoSW5wdXQnOiAgIHJldHVybiBpc01vYmlsZTtcbiAgICAgICAgICAgIGNhc2UgJ3dlYnAtdGVzdCc6ICAgICAgICAgICByZXR1cm4gY2Muc3lzLmNhcGFiaWxpdGllc1snd2VicCddO1xuICAgICAgICAgICAgY2FzZSAnRGV2aWNlTW90aW9uJzogICAgICAgIHJldHVybiBpc01vYmlsZSAmJiAhaXNRUVBsYXkgJiYgIWlzVml2bztcbiAgICAgICAgICAgIGNhc2UgJ05hdGl2ZV9DYWxsJzogICAgICAgICByZXR1cm4gaXNNb2JpbGUgJiYgKGlzQW5kcm9pZCB8fCBpc0lwaG9uZSkgJiYgIUNDX1JVTlRJTUU7XG4gICAgICAgICAgICBjYXNlICdUVEZGb250TGFiZWwnOiAgICAgICAgcmV0dXJuICFpc1FRUGxheTtcbiAgICAgICAgICAgIGNhc2UgJ01vdXNlUHJvcGFnYXRpb24nOiAgICByZXR1cm4gKChpc05hdGl2ZSAmJiAhaXNNb2JpbGUgJiYgIWlzV2VjaGF0ICYmICFpc1FRUGxheSAmJiAhaXNYaWFvbWkgJiYgIWlzSHVhd2VpICYmICFpc0FsaXBheSkgfHwgaXNEZXNrdG9wQnJvd3Nlcik7XG4gICAgICAgICAgICBjYXNlICdkb3dubG9hZGVyLW5hdGl2ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTmF0aXZlICYmICFDQ19SVU5USU1FO1xuICAgICAgICAgICAgLy8gTm90IHN1cHBvcnQgdGhlIFZJVk9fR0FNRSBhbmQgT1BQT19HQU1FXG4gICAgICAgICAgICBjYXNlICdjYXB0dXJlX3RvX25hdGl2ZSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTmF0aXZlICYmICFpc1Zpdm8gJiYgIWlzT1BQTztcbiAgICAgICAgICAgIGNhc2UgJ1NhZmVBcmVhJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKGlzSXBob25lIHx8IGlzQW5kcm9pZCkgJiYgaXNOYXRpdmU7XG4gICAgICAgICAgICBjYXNlICdjYXB0dXJlX3RvX3dlY2hhdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICBpc1dlY2hhdDtcbiAgICAgICAgICAgIGNhc2UgJ2NhcHR1cmVfdG9fd2ViJzpcbiAgICAgICAgICAgIGNhc2UgJ1NoYWRvd0xhYmVsJzpcbiAgICAgICAgICAgIGNhc2UgJ3ZpZGVvUGxheWVyLXN0YXlPbkJvdHRvbSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzQnJvd3NlcjtcblxuICAgICAgICAgICAgLy8gT25seSBzdXBwb3J0IHRoZSBSRU5ERVJfVFlQRV9XRUJHTFxuICAgICAgICAgICAgY2FzZSAnTW90aW9uU3RyZWFrJzpcbiAgICAgICAgICAgIGNhc2UgJ01hc2tfSU1BR0VfU1RFTkNJTCc6XG4gICAgICAgICAgICBjYXNlICdNYXNrX05FU1RFRCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNjLmdhbWUucmVuZGVyVHlwZSA9PT0gY2MuZ2FtZS5SRU5ERVJfVFlQRV9XRUJHTDtcblxuICAgICAgICAgICAgLy8gTm90IHN1cHBvcnQgaXNNb2JpbGVcbiAgICAgICAgICAgIGNhc2UgJ0tleWJvYXJkSW5wdXQnOlxuICAgICAgICAgICAgY2FzZSAncGxhdGZvcm0nOlxuICAgICAgICAgICAgICAgIHJldHVybiAhaXNNb2JpbGUgJiYgIWlzQmFpZHUgJiYgIWlzWGlhb21pICYmICFpc0h1YXdlaSAmJiAhaXNBbGlwYXk7XG5cbiAgICAgICAgICAgIC8vIE5vdCBzdXBwb3J0IHRoZSBTaW11bGF0b3IsIFFRX1BMQVksIFdFQ0hBVF9HQU1FXG4gICAgICAgICAgICBjYXNlICd2aWRlb1BsYXllcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpc05hdGl2ZVdpbmRvd3MgJiYgIWlzTmF0aXZlTWFjT1MgJiYgIUNDX1JVTlRJTUUgJiYgIWlzUVFQbGF5ICYmICFpc0JhaWR1ICYmICFpc1hpYW9taSAmJiAhaXNIdWF3ZWkgJiYgIWlzQWxpcGF5O1xuXG4gICAgICAgICAgICAvLyBOb3Qgc3VwcG9ydCB0aGUgVklWT19HQU1FLCBPUFBPX0dBTUUsIFdFQ0hBVF9HQU1FLCBRUV9QTEFZLCBDQ19SVU5USU1FXG4gICAgICAgICAgICBjYXNlICd3ZWJ2aWV3JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gKGlzTW9iaWxlIHx8IGlzQnJvd3NlcikgJiYgIUNDX1JVTlRJTUUgJiYgIWlzUVFQbGF5ICYmICFpc1dlY2hhdCAmJiAhaXNCYWlkdSAmJiAhaXNYaWFvbWkgJiYgIWlzSHVhd2VpICYmICFpc0FsaXBheTtcbiAgICAgICAgICAgIGNhc2UgJ21lc2gnOlxuICAgICAgICAgICAgICAgIHJldHVybiAhaXNWaXZvICYmICFpc09QUE87XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5pdCAoKSB7XG4gICAgICAgIGlmICh0aGlzLnRpcHNQcmVmYWIpIHJldHVybjtcblxuICAgICAgICBjYy5yZXNvdXJjZXMubG9hZCgndGlwcy9UaXBzJywgKGVyciwgcHJlZmFiKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRpcHNQcmVmYWIgPSBwcmVmYWI7XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICBjcmVhdGVUaXBzIChjb250ZW50KSB7XG4gICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUodGhpcy50aXBzUHJlZmFiKTtcbiAgICAgICAgbGV0IHRpcHNDdHJsID0gbm9kZS5nZXRDb21wb25lbnQoJ1RpcHNDdHJsJyk7XG4gICAgICAgIGlmIChjb250ZW50KSB7XG4gICAgICAgICAgICB0aXBzQ3RybC5zZXRDb250ZW50KGNvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUucGFyZW50ID0gY2MuZGlyZWN0b3IuZ2V0U2NlbmUoKTtcbiAgICB9LFxuXG4gICAgaGFzU3VwcG9ydCAobmFtZSwgaGlkZVRpcCkge1xuICAgICAgICBsZXQgc3VwcG9ydCA9IHRoaXMuU3VwcG9ydENvbmZpZyhuYW1lKTtcbiAgICAgICAgaWYgKCFzdXBwb3J0ICYmIHN1cHBvcnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCFoaWRlVGlwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVUaXBzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufTsiXX0=