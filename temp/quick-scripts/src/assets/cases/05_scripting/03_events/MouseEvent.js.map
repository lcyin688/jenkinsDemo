{"version":3,"sources":["assets/cases/05_scripting/03_events/MouseEvent.js"],"names":["cc","Class","Component","move","event","node","x","getDeltaX","y","getDeltaY","onLoad","scroll","opacity","on","Node","EventType","MOUSE_DOWN","MOUSE_MOVE","MOUSE_ENTER","MOUSE_LEAVE","off","MOUSE_UP","_callback","MOUSE_WHEEL","getScrollY","h","height","misc","clampf","scale"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,IAAI,EAAE,cAAUC,KAAV,EAAiB;IACnB,KAAKC,IAAL,CAAUC,CAAV,IAAeF,KAAK,CAACG,SAAN,EAAf;IACA,KAAKF,IAAL,CAAUG,CAAV,IAAeJ,KAAK,CAACK,SAAN,EAAf;EACH,CANI;EAQL;EACAC,MAAM,EAAE,kBAAY;IAChB,KAAKC,MAAL,GAAc,CAAd;IACA,KAAKN,IAAL,CAAUO,OAAV,GAAoB,EAApB;IACA,KAAKP,IAAL,CAAUQ,EAAV,CAAab,EAAE,CAACc,IAAH,CAAQC,SAAR,CAAkBC,UAA/B,EAA2C,YAAY;MACnD,KAAKX,IAAL,CAAUO,OAAV,GAAoB,GAApB;MACA,KAAKP,IAAL,CAAUQ,EAAV,CAAab,EAAE,CAACc,IAAH,CAAQC,SAAR,CAAkBE,UAA/B,EAA2C,KAAKd,IAAhD,EAAsD,IAAtD;IACH,CAHD,EAGG,IAHH;IAIA,KAAKE,IAAL,CAAUQ,EAAV,CAAab,EAAE,CAACc,IAAH,CAAQC,SAAR,CAAkBG,WAA/B,EAA4C,YAAY;MACpD,KAAKb,IAAL,CAAUO,OAAV,GAAoB,GAApB;IACH,CAFD,EAEG,IAFH;IAGA,KAAKP,IAAL,CAAUQ,EAAV,CAAab,EAAE,CAACc,IAAH,CAAQC,SAAR,CAAkBI,WAA/B,EAA4C,YAAY;MACpD,KAAKd,IAAL,CAAUO,OAAV,GAAoB,EAApB;MACA,KAAKP,IAAL,CAAUe,GAAV,CAAcpB,EAAE,CAACc,IAAH,CAAQC,SAAR,CAAkBE,UAAhC,EAA4C,KAAKd,IAAjD,EAAuD,IAAvD;IACH,CAHD,EAGG,IAHH;IAIA,KAAKE,IAAL,CAAUQ,EAAV,CAAab,EAAE,CAACc,IAAH,CAAQC,SAAR,CAAkBM,QAA/B,EAAyC,YAAY;MACjD,KAAKhB,IAAL,CAAUO,OAAV,GAAoB,EAApB;MACA,KAAKP,IAAL,CAAUe,GAAV,CAAcpB,EAAE,CAACc,IAAH,CAAQC,SAAR,CAAkBE,UAAhC,EAA4C,KAAKd,IAAjD,EAAuD,IAAvD;;MACA,IAAI,KAAKmB,SAAT,EAAoB;QAChB,KAAKA,SAAL;MACH;IACJ,CAND,EAMG,IANH;IAOA,KAAKjB,IAAL,CAAUQ,EAAV,CAAab,EAAE,CAACc,IAAH,CAAQC,SAAR,CAAkBQ,WAA/B,EAA4C,UAAUnB,KAAV,EAAiB;MACzD,KAAKO,MAAL,IAAeP,KAAK,CAACoB,UAAN,EAAf;MACA,IAAIC,CAAC,GAAG,KAAKpB,IAAL,CAAUqB,MAAlB;MACA,KAAKf,MAAL,GAAcX,EAAE,CAAC2B,IAAH,CAAQC,MAAR,CAAe,KAAKjB,MAApB,EAA4B,CAAC,CAAD,GAAKc,CAAjC,EAAoC,MAAMA,CAA1C,CAAd;MACA,KAAKpB,IAAL,CAAUwB,KAAV,GAAkB,IAAI,KAAKlB,MAAL,GAAYc,CAAlC;IACH,CALD,EAKG,IALH;EAMH;AApCI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    move: function (event) {\n        this.node.x += event.getDeltaX();\n        this.node.y += event.getDeltaY();\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.scroll = 0;\n        this.node.opacity = 50;\n        this.node.on(cc.Node.EventType.MOUSE_DOWN, function () {\n            this.node.opacity = 255;\n            this.node.on(cc.Node.EventType.MOUSE_MOVE, this.move, this);\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_ENTER, function () {\n            this.node.opacity = 160;\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_LEAVE, function () {\n            this.node.opacity = 50;\n            this.node.off(cc.Node.EventType.MOUSE_MOVE, this.move, this);\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_UP, function () {\n            this.node.opacity = 50;\n            this.node.off(cc.Node.EventType.MOUSE_MOVE, this.move, this);\n            if (this._callback) {\n                this._callback();\n            }\n        }, this);\n        this.node.on(cc.Node.EventType.MOUSE_WHEEL, function (event) {\n            this.scroll += event.getScrollY();\n            var h = this.node.height;\n            this.scroll = cc.misc.clampf(this.scroll, -2 * h, 0.7 * h);\n            this.node.scale = 1 - this.scroll/h;\n        }, this);\n    },\n});\n"]}