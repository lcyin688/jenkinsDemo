{"version":3,"sources":["assets/cases/05_scripting/03_events/TouchDragger.js"],"names":["TouchDragger","cc","Class","Component","properties","propagate","onLoad","node","opacity","on","Node","EventType","TOUCH_START","log","TOUCH_MOVE","event","delta","touch","getDelta","x","y","getComponent","stopPropagation","TOUCH_END"],"mappings":";;;;;;AAAA,IAAIA,YAAY,GAAGC,EAAE,CAACC,KAAH,CAAS;EACxB,WAASD,EAAE,CAACE,SADY;EAGxBC,UAAU,EAAE;IACRC,SAAS,EAAE;MACP,WAAS;IADF,CADH,CAIR;;EAJQ,CAHY;EAUxB;EACAC,MAAM,EAAE,kBAAY;IAChB,KAAKC,IAAL,CAAUC,OAAV,GAAoB,GAApB;IACA,KAAKD,IAAL,CAAUE,EAAV,CAAaR,EAAE,CAACS,IAAH,CAAQC,SAAR,CAAkBC,WAA/B,EAA4C,YAAY;MACpDX,EAAE,CAACY,GAAH,CAAO,iBAAP;MACA,KAAKL,OAAL,GAAe,GAAf;IACH,CAHD,EAGG,KAAKD,IAHR;IAIA,KAAKA,IAAL,CAAUE,EAAV,CAAaR,EAAE,CAACS,IAAH,CAAQC,SAAR,CAAkBG,UAA/B,EAA2C,UAAUC,KAAV,EAAiB;MACxD,KAAKP,OAAL,GAAe,GAAf;MACA,IAAIQ,KAAK,GAAGD,KAAK,CAACE,KAAN,CAAYC,QAAZ,EAAZ;MACA,KAAKC,CAAL,IAAUH,KAAK,CAACG,CAAhB;MACA,KAAKC,CAAL,IAAUJ,KAAK,CAACI,CAAhB;MACA,IAAI,KAAKC,YAAL,CAAkBrB,YAAlB,EAAgCK,SAApC,EACIU,KAAK,CAACO,eAAN;IACP,CAPD,EAOG,KAAKf,IAPR;IAQA,KAAKA,IAAL,CAAUE,EAAV,CAAaR,EAAE,CAACS,IAAH,CAAQC,SAAR,CAAkBY,SAA/B,EAA0C,YAAY;MAClD,KAAKf,OAAL,GAAe,GAAf;IACH,CAFD,EAEG,KAAKD,IAFR;EAGH;AA5BuB,CAAT,CAAnB","sourceRoot":"/","sourcesContent":["var TouchDragger = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        propagate: {\n            default: false\n        },\n        // ...\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        this.node.opacity = 160;\n        this.node.on(cc.Node.EventType.TOUCH_START, function () {\n            cc.log('Drag stated ...');\n            this.opacity = 255;\n        }, this.node);\n        this.node.on(cc.Node.EventType.TOUCH_MOVE, function (event) {\n            this.opacity = 255;\n            var delta = event.touch.getDelta();\n            this.x += delta.x;\n            this.y += delta.y;\n            if (this.getComponent(TouchDragger).propagate)\n                event.stopPropagation();\n        }, this.node);\n        this.node.on(cc.Node.EventType.TOUCH_END, function () {\n            this.opacity = 160;\n        }, this.node);\n    },\n});"]}