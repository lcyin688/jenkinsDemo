{"version":3,"sources":["assets/cases/05_scripting/02_prefab/PopulatePrefab.js"],"names":["cc","Class","Component","properties","root","type","Node","prefab","Prefab","canvas","Canvas","numberToSpawn","spawnInterval","addSpawn","spawnCount","clearRepeater","monster","instantiate","parent","position","getRandomPosition","onLoad","self","randomRange","v2","schedule","Math","random","x","y","unschedule"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,IAAI,EAAE;MACF,WAAS,IADP;MAEFC,IAAI,EAAEL,EAAE,CAACM;IAFP,CADE;IAKRC,MAAM,EAAE;MACJ,WAAS,IADL;MAEJF,IAAI,EAAEL,EAAE,CAACQ;IAFL,CALA;IASRC,MAAM,EAAE;MACJ,WAAS,IADL;MAEJJ,IAAI,EAAEL,EAAE,CAACU;IAFL,CATA;IAaRC,aAAa,EAAE,CAbP;IAcRC,aAAa,EAAE;EAdP,CAHP;EAoBLC,QAAQ,EAAE,oBAAY;IAClB,IAAI,KAAKC,UAAL,IAAmB,KAAKH,aAA5B,EAA2C;MACvC,KAAKI,aAAL;MACA;IACH;;IACD,IAAIC,OAAO,GAAGhB,EAAE,CAACiB,WAAH,CAAe,KAAKV,MAApB,CAAd;IACAS,OAAO,CAACE,MAAR,GAAiB,KAAKd,IAAtB,CANkB,CAOlB;;IACAY,OAAO,CAACG,QAAR,GAAmB,KAAKC,iBAAL,EAAnB;IACA,KAAKN,UAAL;EACH,CA9BI;EAgCL;EACAO,MAAM,EAAE,kBAAY;IAChB,IAAIC,IAAI,GAAG,IAAX;IACAA,IAAI,CAACC,WAAL,GAAmBvB,EAAE,CAACwB,EAAH,CAAM,GAAN,EAAW,GAAX,CAAnB;IACAF,IAAI,CAACR,UAAL,GAAkB,CAAlB;IACAQ,IAAI,CAACG,QAAL,CAAcH,IAAI,CAACT,QAAnB,EAA6BS,IAAI,CAACV,aAAlC;EACH,CAtCI;EAwCLQ,iBAAiB,EAAE,6BAAW;IAC1B,OAAOpB,EAAE,CAACwB,EAAH,CAAM,CAACE,IAAI,CAACC,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4B,KAAKJ,WAAL,CAAiBK,CAAnD,EAAsD,CAACF,IAAI,CAACC,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4B,KAAKJ,WAAL,CAAiBM,CAAnG,CAAP;EACH,CA1CI;EA4CLd,aAAa,EAAE,yBAAW;IACtB,KAAKe,UAAL,CAAgB,KAAKjB,QAArB;EACH;AA9CI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        root: {\n            default: null,\n            type: cc.Node\n        },\n        prefab: {\n            default: null,\n            type: cc.Prefab\n        },\n        canvas: {\n            default: null,\n            type: cc.Canvas\n        },\n        numberToSpawn: 0,\n        spawnInterval: 0\n    },\n    \n    addSpawn: function () {\n        if (this.spawnCount >= this.numberToSpawn) {\n            this.clearRepeater();\n            return;\n        }\n        var monster = cc.instantiate(this.prefab);\n        monster.parent = this.root;\n        //this.canvas.node.addChild(monster);\n        monster.position = this.getRandomPosition();\n        this.spawnCount++;\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        var self = this;\n        self.randomRange = cc.v2(300, 200);\n        self.spawnCount = 0;\n        self.schedule(self.addSpawn, self.spawnInterval);\n    },\n\n    getRandomPosition: function() {\n        return cc.v2((Math.random() - 0.5) * 2 * this.randomRange.x, (Math.random() - 0.5) * 2 * this.randomRange.y);\n    },\n\n    clearRepeater: function() {\n        this.unschedule(this.addSpawn);\n    },\n});\n"]}