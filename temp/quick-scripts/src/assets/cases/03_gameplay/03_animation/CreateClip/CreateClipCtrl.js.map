{"version":3,"sources":["assets/cases/03_gameplay/03_animation/CreateClip/CreateClipCtrl.js"],"names":["cc","Class","Component","properties","atlas","onLoad","animation","getComponent","Animation","resources","load","SpriteAtlas","err","addRef","spriteFrames","getSpriteFrames","clip","AnimationClip","createWithSpriteFrames","name","wrapMode","WrapMode","Loop","addClip","play","onDestroy","decRef"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,KAAK,EAAE;EADC,CAHP;EAOL;EACAC,MAAM,EAAE,kBAAY;IAAA;;IAChB,IAAIC,SAAS,GAAG,KAAKC,YAAL,CAAkBP,EAAE,CAACQ,SAArB,CAAhB;IAEAR,EAAE,CAACS,SAAH,CAAaC,IAAb,CAAkB,mBAAlB,EAAuCV,EAAE,CAACW,WAA1C,EAAuD,UAACC,GAAD,EAAMR,KAAN,EAAgB;MACnE,KAAI,CAACA,KAAL,GAAaA,KAAK,CAACS,MAAN,EAAb;MACA,IAAIC,YAAY,GAAGV,KAAK,CAACW,eAAN,EAAnB;MAEA,IAAIC,IAAI,GAAGhB,EAAE,CAACiB,aAAH,CAAiBC,sBAAjB,CAAwCJ,YAAxC,EAAsD,EAAtD,CAAX;MACAE,IAAI,CAACG,IAAL,GAAY,KAAZ;MACAH,IAAI,CAACI,QAAL,GAAgBpB,EAAE,CAACqB,QAAH,CAAYC,IAA5B;MAEAhB,SAAS,CAACiB,OAAV,CAAkBP,IAAlB;MACAV,SAAS,CAACkB,IAAV,CAAe,KAAf;IACH,CAVD;EAWH,CAtBI;EAwBL;EACA;EAEA;EAEAC,SAAS,EAAE,qBAAY;IACnB,KAAKrB,KAAL,CAAWsB,MAAX;IACA,KAAKtB,KAAL,GAAa,IAAb;EACH;AAhCI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        atlas: null,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        var animation = this.getComponent(cc.Animation);\n        \n        cc.resources.load(\"test_assets/atlas\", cc.SpriteAtlas, (err, atlas) => {\n            this.atlas = atlas.addRef();\n            var spriteFrames = atlas.getSpriteFrames();\n            \n            var clip = cc.AnimationClip.createWithSpriteFrames(spriteFrames, 10);\n            clip.name = 'run';\n            clip.wrapMode = cc.WrapMode.Loop;\n\n            animation.addClip(clip);\n            animation.play('run');\n        });\n    },\n\n    // called every frame, uncomment this function to activate update callback\n    // update: function (dt) {\n\n    // },\n\n    onDestroy: function () {\n        this.atlas.decRef();\n        this.atlas = null;\n    }\n});\n"]}