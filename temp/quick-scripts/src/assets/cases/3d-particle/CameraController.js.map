{"version":3,"sources":["assets/cases/3d-particle/CameraController.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\n\nconst Vec3 = cc.Vec3;\nconst Quat = cc.Quat;\n\n@ccclass\nexport default class CameraController extends cc.Component {\n\n    @property\n    public translateDelta = 1;\n\n    @property\n    public rotateDelta = 5;\n\n    private _rotateDelta = 0;\n\n    private _temp_vec3:Vec3 = new Vec3();\n    private _temp_quat:Quat = new Quat();\n\n    private _quat:Quat = new Quat();\n    /* class member could be defined like this */\n    // dummy = '';\n\n    /* use `property` decorator if your want the member to be serializable */\n    // @property\n    // serializableDummy = 0;\n\n    start () {\n        // Your initialization goes here.\n        this._rotateDelta = cc.math.toRadian(this.rotateDelta);\n    }\n\n    // update (deltaTime: number) {\n    //     // Your update function goes here.\n    // }\n\n    translate (leftRight, backForth, dt) {\n        Vec3.set(this._temp_vec3, leftRight * this.translateDelta * dt, 0, backForth * this.translateDelta * dt);\n        this.node.x += this._temp_vec3.x;\n        this.node.y += this._temp_vec3.y;\n        this.node.z += this._temp_vec3.z;\n    }\n\n    rotate (longitudinal, perpendicular, dt) {\n        Quat.fromEuler(this._temp_quat, perpendicular * this.rotateDelta * dt, longitudinal * this.rotateDelta * dt, 0);\n        Quat.normalize(this._temp_quat, this._temp_quat);\n        this.node.getRotation(this._quat);\n        this._quat.multiply(this._temp_quat);\n        this.node.setRotation(this._quat);\n    }\n\n    onPushJoystick (event: any, customEventData: string) {\n        let dt = 0.2;\n        switch (customEventData) {\n            case 'F':\n                this.translate(0, -1, dt);\n                break;\n            case 'B':\n                this.translate(0, 1, dt);\n                break;\n            case 'L':\n                this.translate(-1, 0, dt);\n                break;\n            case 'R':\n                this.translate(1, 0, dt);\n                break;\n            case 'U':\n                this.rotate(0, 1, dt);\n                break;\n            case 'D':\n                this.rotate(0, -1, dt);\n                break;\n            case 'RL':\n                this.rotate(1, 0, dt);\n                break;\n            case 'RR':\n                this.rotate(-1, 0, dt);\n                break;\n        }\n    }\n}\n"]}