{"version":3,"sources":["assets/cases/graphics/example/linejoin.js"],"names":["LineJoin","cc","Graphics","LineCap","Class","Component","onLoad","graphics","getComponent","lineWidth","time","radius","draw","update","dt","clear","rx","Math","sin","ry","cos","lineCap","BUTT","lineJoin","BEVEL","drawLine","MITER","ROUND","SQUARE","x","y","moveTo","lineTo","stroke"],"mappings":";;;;;;AAAA,IAAIA,QAAQ,GAAGC,EAAE,CAACC,QAAH,CAAYF,QAA3B;AACA,IAAIG,OAAO,GAAGF,EAAE,CAACC,QAAH,CAAYC,OAA1B;AAEAF,EAAE,CAACG,KAAH,CAAS;EACL,WAASH,EAAE,CAACI,SADP;EAGL;EACAC,MAAM,EAAE,kBAAY;IAChB,KAAKC,QAAL,GAAgB,KAAKC,YAAL,CAAkBP,EAAE,CAACC,QAArB,CAAhB;IACA,KAAKK,QAAL,CAAcE,SAAd,GAA0B,EAA1B;IAEA,KAAKC,IAAL,GAAY,CAAZ;IACA,KAAKC,MAAL,GAAc,GAAd;IAEA,KAAKC,IAAL;EACH,CAZI;EAcL;EACAC,MAAM,EAAE,gBAAUC,EAAV,EAAc;IAClB,KAAKJ,IAAL,IAAaI,EAAE,GAAG,GAAlB;IACA,KAAKF,IAAL;EACH,CAlBI;EAoBLA,IAAI,EAAE,gBAAY;IACd,IAAIL,QAAQ,GAAG,KAAKA,QAApB;IACAA,QAAQ,CAACQ,KAAT;IAEA,IAAIC,EAAE,GAAG,KAAKL,MAAL,GAAcM,IAAI,CAACC,GAAL,CAAS,KAAKR,IAAd,CAAvB;IACA,IAAIS,EAAE,GAAG,CAAC,KAAKR,MAAN,GAAeM,IAAI,CAACG,GAAL,CAAS,KAAKV,IAAd,CAAxB,CALc,CAOd;;IACAH,QAAQ,CAACc,OAAT,GAAmBlB,OAAO,CAACmB,IAA3B;IAEAf,QAAQ,CAACgB,QAAT,GAAoBvB,QAAQ,CAACwB,KAA7B;IACA,KAAKC,QAAL,CAAc,CAAC,GAAf,EAAoB,CAApB,EAAuBT,EAAvB,EAA2BG,EAA3B;IAEAZ,QAAQ,CAACgB,QAAT,GAAoBvB,QAAQ,CAAC0B,KAA7B;IACA,KAAKD,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoBT,EAApB,EAAwBG,EAAxB;IAEAZ,QAAQ,CAACgB,QAAT,GAAoBvB,QAAQ,CAAC2B,KAA7B;IACA,KAAKF,QAAL,CAAc,GAAd,EAAmB,CAAnB,EAAsBT,EAAtB,EAA0BG,EAA1B,EAjBc,CAmBd;;IACAZ,QAAQ,CAACgB,QAAT,GAAoBvB,QAAQ,CAAC0B,KAA7B;IAEAnB,QAAQ,CAACc,OAAT,GAAmBlB,OAAO,CAACmB,IAA3B;IACA,KAAKG,QAAL,CAAc,CAAd,EAAiB,CAAC,GAAlB,EAAuBT,EAAvB,EAA2BG,EAA3B;IAEAZ,QAAQ,CAACc,OAAT,GAAmBlB,OAAO,CAACyB,MAA3B;IACA,KAAKH,QAAL,CAAc,CAAC,GAAf,EAAoB,CAAC,GAArB,EAA0BT,EAA1B,EAA8BG,EAA9B;IAEAZ,QAAQ,CAACc,OAAT,GAAmBlB,OAAO,CAACwB,KAA3B;IACA,KAAKF,QAAL,CAAc,GAAd,EAAmB,CAAC,GAApB,EAAyBT,EAAzB,EAA6BG,EAA7B;EACH,CAlDI;EAoDLM,QAAQ,EAAE,kBAAUI,CAAV,EAAaC,CAAb,EAAgBd,EAAhB,EAAoBG,EAApB,EAAwB;IAC9B,IAAIZ,QAAQ,GAAG,KAAKA,QAApB;IAEAA,QAAQ,CAACwB,MAAT,CAAgBF,CAAC,GAAGb,EAApB,EAAwBc,CAAC,GAAGX,EAA5B;IACAZ,QAAQ,CAACyB,MAAT,CAAgBH,CAAhB,EAAmBC,CAAnB;IACAvB,QAAQ,CAACyB,MAAT,CAAgBH,CAAC,GAAGb,EAApB,EAAwBc,CAAC,GAAGX,EAA5B;IACAZ,QAAQ,CAAC0B,MAAT;EACH;AA3DI,CAAT","sourceRoot":"/","sourcesContent":["let LineJoin = cc.Graphics.LineJoin;\nlet LineCap = cc.Graphics.LineCap;\n\ncc.Class({\n    extends: cc.Component,\n\n    // use this for initialization\n    onLoad: function () {\n        this.graphics = this.getComponent(cc.Graphics);\n        this.graphics.lineWidth = 20;\n        \n        this.time = 0;\n        this.radius = 100;\n\n        this.draw();\n    },\n    \n    // called every frame, uncomment this function to activate update callback\n    update: function (dt) {\n        this.time += dt * 0.5;\n        this.draw();\n    },\n\n    draw: function () {\n        let graphics = this.graphics;\n        graphics.clear();\n\n        let rx = this.radius * Math.sin(this.time);\n        let ry = -this.radius * Math.cos(this.time);\n\n        // line join\n        graphics.lineCap = LineCap.BUTT;\n\n        graphics.lineJoin = LineJoin.BEVEL;\n        this.drawLine(-200, 0, rx, ry);\n\n        graphics.lineJoin = LineJoin.MITER;\n        this.drawLine(0, 0, rx, ry);\n\n        graphics.lineJoin = LineJoin.ROUND;\n        this.drawLine(200, 0, rx, ry);\n\n        // line cap\n        graphics.lineJoin = LineJoin.MITER;\n\n        graphics.lineCap = LineCap.BUTT;\n        this.drawLine(0, -125, rx, ry);\n\n        graphics.lineCap = LineCap.SQUARE;\n        this.drawLine(-200, -125, rx, ry);\n\n        graphics.lineCap = LineCap.ROUND;\n        this.drawLine(200, -125, rx, ry);\n    },\n\n    drawLine: function (x, y, rx, ry) {\n        let graphics = this.graphics;\n\n        graphics.moveTo(x + rx, y + ry);\n        graphics.lineTo(x, y);\n        graphics.lineTo(x - rx, y + ry);\n        graphics.stroke();\n    }\n});\n"]}