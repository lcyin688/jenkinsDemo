{"version":3,"sources":["assets/cases/3d/dynamic-load-material.js"],"names":["cc","Class","Component","properties","meshRenderer","MeshRenderer","_material","Material","start","scheduleOnce","resources","load","err","material","error","addRef","setMaterial","onDestroy","decRef"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,YAAY,EAAEJ,EAAE,CAACK,YADT;IAERC,SAAS,EAAEN,EAAE,CAACO;EAFN,CAHP;EAQL;EAEA;EAEAC,KAZK,mBAYI;IAAA;;IACL,KAAKC,YAAL,CAAkB,YAAM;MACpBT,EAAE,CAACU,SAAH,CAAaC,IAAb,CAAkB,iCAAlB,EAAqDX,EAAE,CAACO,QAAxD,EAAkE,UAACK,GAAD,EAAMC,QAAN,EAAmB;QACjF,IAAID,GAAJ,EAAS;UACLZ,EAAE,CAACc,KAAH,CAASF,GAAT;UACA;QACH;;QACD,KAAI,CAACN,SAAL,GAAiBO,QAAQ,CAACE,MAAT,EAAjB;;QACA,KAAI,CAACX,YAAL,CAAkBY,WAAlB,CAA8B,CAA9B,EAAiCH,QAAjC;MACH,CAPD;IAQH,CATD,EASG,CATH;EAUH,CAvBI;EAyBLI,SAzBK,uBAyBQ;IACT,KAAKX,SAAL,IAAkB,KAAKA,SAAL,CAAeY,MAAf,EAAlB;IACA,KAAKZ,SAAL,GAAiB,IAAjB;EACH,CA5BI,CA6BL;;AA7BK,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        meshRenderer: cc.MeshRenderer,\n        _material: cc.Material,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start () {\n        this.scheduleOnce(() => {\n            cc.resources.load('materials/dynamic-load-material', cc.Material, (err, material) => {\n                if (err) {\n                    cc.error(err);\n                    return;\n                }\n                this._material = material.addRef();\n                this.meshRenderer.setMaterial(0, material);\n            })\n        }, 1);\n    },\n\n    onDestroy () {\n        this._material && this._material.decRef();\n        this._material = null;\n    }\n    // update (dt) {},\n});\n"]}