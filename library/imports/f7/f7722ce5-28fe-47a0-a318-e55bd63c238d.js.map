{"version":3,"sources":["assets/cases/motionStreak/MotionStreak/MotionStreakCtrl.js"],"names":["cc","Class","Component","properties","motionStreak","MotionStreak","newTexture","type","Texture2D","onLoad","_changed","oldTexture","texture","animationCom","node","getComponent","Animation","onClick","setMotionStreak","fadeTime","minSeg","stroke","lateUpdate","getAnimationState","isPlaying","play","onDisable","stop"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,YAAY,EAAEJ,EAAE,CAACK,YADT;IAERC,UAAU,EAAE;MACR,WAAS,IADD;MAERC,IAAI,EAAEP,EAAE,CAACQ;IAFD;EAFJ,CAHP;EAWLC,MAAM,EAAE,kBAAY;IAChB,KAAKC,QAAL,GAAgB,IAAhB;IACA,KAAKC,UAAL,GAAkB,KAAKP,YAAL,CAAkBQ,OAApC;IACA,KAAKC,YAAL,GAAoB,KAAKT,YAAL,CAAkBU,IAAlB,CAAuBC,YAAvB,CAAoCf,EAAE,CAACgB,SAAvC,CAApB;EACH,CAfI;EAiBLC,OAAO,EAAE,mBAAY;IACjB,IAAI,KAAKP,QAAT,EAAmB;MACf,KAAKQ,eAAL,CAAqB,CAArB,EAAwB,CAAxB,EAA2B,EAA3B,EAA+B,KAAKZ,UAApC;IACH,CAFD,MAGK;MACD,KAAKY,eAAL,CAAqB,GAArB,EAA0B,CAA1B,EAA6B,EAA7B,EAAiC,KAAKP,UAAtC;IACH;;IACD,KAAKD,QAAL,GAAgB,CAAC,KAAKA,QAAtB;EACH,CAzBI;EA2BLQ,eAAe,EAAE,yBAAUC,QAAV,EAAoBC,MAApB,EAA4BC,MAA5B,EAAoCT,OAApC,EAA6C;IAC1D,KAAKR,YAAL,CAAkBe,QAAlB,GAA6BA,QAA7B;IACA,KAAKf,YAAL,CAAkBgB,MAAlB,GAA2BA,MAA3B;IACA,KAAKhB,YAAL,CAAkBiB,MAAlB,GAA2BA,MAA3B;IACA,KAAKjB,YAAL,CAAkBQ,OAAlB,GAA4BA,OAA5B;EACH,CAhCI;EAkCLU,UAlCK,wBAkCS;IACV,IAAI,CAAC,KAAKT,YAAL,CAAkBU,iBAAlB,CAAoC,aAApC,EAAmDC,SAAxD,EAAmE;MAC/D,KAAKX,YAAL,CAAkBY,IAAlB;IACH;EACJ,CAtCI;EAwCLC,SAxCK,uBAwCQ;IACT,KAAKtB,YAAL,CAAkBU,IAAlB,CAAuBC,YAAvB,CAAoCf,EAAE,CAACgB,SAAvC,EAAkDW,IAAlD;EACH;AA1CI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        motionStreak: cc.MotionStreak,\n        newTexture: {\n            default: null,\n            type: cc.Texture2D\n        }\n    },\n\n    onLoad: function () {\n        this._changed = true;\n        this.oldTexture = this.motionStreak.texture;\n        this.animationCom = this.motionStreak.node.getComponent(cc.Animation);\n    },\n\n    onClick: function () {\n        if (this._changed) {\n            this.setMotionStreak(2, 3, 20, this.newTexture);\n        }\n        else {\n            this.setMotionStreak(0.5, 1, 30, this.oldTexture);\n        }\n        this._changed = !this._changed;\n    },\n\n    setMotionStreak: function (fadeTime, minSeg, stroke, texture) {\n        this.motionStreak.fadeTime = fadeTime;\n        this.motionStreak.minSeg = minSeg;\n        this.motionStreak.stroke = stroke;\n        this.motionStreak.texture = texture;\n    },\n\n    lateUpdate () {\n        if (!this.animationCom.getAnimationState(\"move_around\").isPlaying) {\n            this.animationCom.play();\n        }\n    },\n\n    onDisable () {\n        this.motionStreak.node.getComponent(cc.Animation).stop();\n    }\n});\n"]}