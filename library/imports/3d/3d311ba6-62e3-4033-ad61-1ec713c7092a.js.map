{"version":3,"sources":["assets/cases/03_gameplay/03_animation/AnimationCallback.js"],"names":["cc","Class","Component","properties","playLabel","type","Label","pauseLabel","stateLabel","animation","Animation","onEnable","on","onPlay","onStop","onLastFrame","onFinished","onPause","onResume","onDisable","off","onPlayButtonClicked","string","play","stop","onPauseButtonClicked","pause","resume","log"],"mappings":"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","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        playLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        pauseLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        stateLabel: {\n            default: null,\n            type: cc.Label\n        },\n\n        animation: {\n            default: null,\n            type: cc.Animation\n        }\n    },\n\n    onEnable: function () {\n        var animation = this.animation;\n\n        animation.on('play',      this.onPlay,        this);\n        animation.on('stop',      this.onStop,        this);\n        animation.on('lastframe', this.onLastFrame,   this);\n        animation.on('finished',  this.onFinished,    this);\n        animation.on('pause',     this.onPause,       this);\n        animation.on('resume',    this.onResume,      this);\n    },\n\n    onDisable: function () {\n        var animation = this.animation;\n\n        animation.off('play',      this.onPlay,        this);\n        animation.off('stop',      this.onStop,        this);\n        animation.off('lastframe', this.onLastFrame,   this);\n        animation.off('finished',  this.onFinished,    this);\n        animation.off('pause',     this.onPause,       this);\n        animation.off('resume',    this.onResume,      this);\n    },\n\n    onPlayButtonClicked: function () {\n        if (this.playLabel.string === 'play') {\n            this.playLabel.string = 'stop';\n            this.animation.play('linear');\n        }\n        else {\n            this.playLabel.string = 'play';\n            this.animation.stop('linear');\n        }\n    },\n\n    onPauseButtonClicked: function () {\n        if (this.pauseLabel.string === 'pause') {\n            this.pauseLabel.string = 'resume';\n            this.animation.pause('linear');\n        }\n        else {\n            this.pauseLabel.string = 'pause';\n            this.animation.resume('linear');\n        }\n    },\n\n    onPlay: function () {\n        cc.log('onPlay');\n        this.stateLabel.string = 'onPlay';\n    },\n\n    onStop: function () {\n        cc.log('onStop');\n        this.stateLabel.string = 'onStop';\n        this.playLabel.string = 'play';\n    },\n\n    onLastFrame: function () {\n        cc.log('onLastFrame');\n        this.stateLabel.string = 'onLastFrame';\n    },\n\n    onFinished: function () {\n        cc.log('onFinished');\n        this.stateLabel.string = 'onFinished';\n    },\n\n    onPause: function () {\n        cc.log('onPause');\n        this.stateLabel.string = 'onPause';\n    },\n\n    onResume: function () {\n        cc.log('onResume');\n        this.stateLabel.string = 'onResume';\n    }\n});\n"]}