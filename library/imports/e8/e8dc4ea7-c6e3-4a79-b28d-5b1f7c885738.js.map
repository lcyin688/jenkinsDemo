{"version":3,"sources":["assets/cases/dragonbones/DragonBonesMode.js"],"names":["cc","Class","Component","properties","grayMaterial","Material","normalMaterial","db0","dragonBones","ArmatureDisplay","db1","db2","batchLabel","Label","cacheLabel","matLabel","onGray","isGray","label","string","material","setMaterial","markForRender","onBatch","isBatch","enableBatch","onCache","isCache","mode","AnimationCacheMode","SHARED_CACHE","REALTIME","setAnimationCacheMode"],"mappings":";;;;;;AAAAA,EAAE,CAACC,KAAH,CAAS;EACL,WAASD,EAAE,CAACE,SADP;EAGLC,UAAU,EAAE;IACRC,YAAY,EAAEJ,EAAE,CAACK,QADT;IAERC,cAAc,EAAEN,EAAE,CAACK,QAFX;IAGRE,GAAG,EAAEC,WAAW,CAACC,eAHT;IAIRC,GAAG,EAAEF,WAAW,CAACC,eAJT;IAKRE,GAAG,EAAEH,WAAW,CAACC,eALT;IAMRG,UAAU,EAAEZ,EAAE,CAACa,KANP;IAORC,UAAU,EAAEd,EAAE,CAACa,KAPP;IAQRE,QAAQ,EAAEf,EAAE,CAACa;EARL,CAHP;EAcLG,MAdK,oBAcK;IACN,KAAKC,MAAL,GAAc,CAAC,KAAKA,MAApB;IAEA,IAAIC,KAAK,GAAG,MAAZ;IACA,IAAI,KAAKD,MAAT,EAAiBC,KAAK,GAAG,QAAR;IACjB,KAAKH,QAAL,CAAcI,MAAd,GAAuBD,KAAvB;IAEA,IAAIE,QAAQ,GAAG,KAAKhB,YAApB;;IACA,IAAI,CAAC,KAAKa,MAAV,EAAkB;MACdG,QAAQ,GAAG,KAAKd,cAAhB;IACH;;IACD,KAAKC,GAAL,CAASc,WAAT,CAAqB,CAArB,EAAwBD,QAAxB;IACA,KAAKb,GAAL,CAASe,aAAT,CAAuB,IAAvB;IAEA,KAAKZ,GAAL,CAASW,WAAT,CAAqB,CAArB,EAAwBD,QAAxB;IACA,KAAKV,GAAL,CAASY,aAAT,CAAuB,IAAvB;IAEA,KAAKX,GAAL,CAASU,WAAT,CAAqB,CAArB,EAAwBD,QAAxB;IACA,KAAKT,GAAL,CAASW,aAAT,CAAuB,IAAvB;EACH,CAjCI;EAmCLC,OAnCK,qBAmCM;IACP,KAAKC,OAAL,GAAe,CAAC,KAAKA,OAArB;IACA,IAAIN,KAAK,GAAG,OAAZ;IACA,IAAI,KAAKM,OAAT,EAAkBN,KAAK,GAAG,UAAR;IAClB,KAAKN,UAAL,CAAgBO,MAAhB,GAAyBD,KAAzB;IAEA,KAAKX,GAAL,CAASkB,WAAT,GAAuB,KAAKD,OAA5B;IACA,KAAKd,GAAL,CAASe,WAAT,GAAuB,KAAKD,OAA5B;IACA,KAAKb,GAAL,CAASc,WAAT,GAAuB,KAAKD,OAA5B;EACH,CA5CI;EA8CLE,OA9CK,qBA8CM;IACP,KAAKC,OAAL,GAAe,CAAC,KAAKA,OAArB;IAEA,IAAIT,KAAK,GAAG,OAAZ;IACA,IAAI,KAAKS,OAAT,EAAkBT,KAAK,GAAG,UAAR;IAClB,KAAKJ,UAAL,CAAgBK,MAAhB,GAAyBD,KAAzB;IAEA,IAAIU,IAAI,GAAGpB,WAAW,CAACC,eAAZ,CAA4BoB,kBAA5B,CAA+CC,YAA1D;IACA,IAAI,CAAC,KAAKH,OAAV,EAAmBC,IAAI,GAAGpB,WAAW,CAACC,eAAZ,CAA4BoB,kBAA5B,CAA+CE,QAAtD;IACnB,KAAKxB,GAAL,CAASyB,qBAAT,CAA+BJ,IAA/B;IACA,KAAKlB,GAAL,CAASsB,qBAAT,CAA+BJ,IAA/B;IACA,KAAKjB,GAAL,CAASqB,qBAAT,CAA+BJ,IAA/B;EACH;AA1DI,CAAT","sourceRoot":"/","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        grayMaterial: cc.Material,\n        normalMaterial: cc.Material,\n        db0: dragonBones.ArmatureDisplay,\n        db1: dragonBones.ArmatureDisplay,\n        db2: dragonBones.ArmatureDisplay,\n        batchLabel: cc.Label,\n        cacheLabel: cc.Label,\n        matLabel: cc.Label,\n    },\n\n    onGray () {\n        this.isGray = !this.isGray;\n\n        let label = \"gray\";\n        if (this.isGray) label = \"normal\";\n        this.matLabel.string = label;\n\n        let material = this.grayMaterial;\n        if (!this.isGray) {\n            material = this.normalMaterial;\n        }\n        this.db0.setMaterial(0, material);\n        this.db0.markForRender(true);\n\n        this.db1.setMaterial(0, material);\n        this.db1.markForRender(true);\n\n        this.db2.setMaterial(0, material);\n        this.db2.markForRender(true);\n    },\n\n    onBatch () {\n        this.isBatch = !this.isBatch;\n        let label = \"batch\";\n        if (this.isBatch) label = \"no batch\";\n        this.batchLabel.string = label;\n\n        this.db0.enableBatch = this.isBatch;\n        this.db1.enableBatch = this.isBatch;\n        this.db2.enableBatch = this.isBatch;\n    },\n\n    onCache () {\n        this.isCache = !this.isCache;\n\n        let label = \"cache\";\n        if (this.isCache) label = \"no cache\";\n        this.cacheLabel.string = label;\n\n        let mode = dragonBones.ArmatureDisplay.AnimationCacheMode.SHARED_CACHE;\n        if (!this.isCache) mode = dragonBones.ArmatureDisplay.AnimationCacheMode.REALTIME;\n        this.db0.setAnimationCacheMode(mode);\n        this.db1.setAnimationCacheMode(mode);\n        this.db2.setAnimationCacheMode(mode);\n    },\n});\n"]}